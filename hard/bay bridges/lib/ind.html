<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple Polylines</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>

  </head>
  <body>
    <div id="map-canvas"></div>
  <script src="https://code.jquery.com/jquery.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCBYt43XRXDcxlVz22E9mWpqWd2ORzjrE8&amp;sensor=false"></script>
    <script type="text/javascript" src="https://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.1.8/src/markerwithlabel.js"></script>
    <script>

var google_map;
var google_map_center = new google.maps.LatLng(37.640879, -122.25174);
function initialize() {
    var mapDiv = document.getElementById('map-canvas');
    google_map = new google.maps.Map(mapDiv, {
        center: google_map_center,
        zoom: 10,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });
}

$(function() {
    initialize();

var sf_coords_str = "1: ([37.440670, -122.341153], [37.658523, -122.104640])\n\
2: ([37.668876, -122.323858], [37.804145, -122.345826])\n\
3: ([37.812087, -122.068213], [37.771135, -122.187455])\n\
4: ([37.668035, -122.094081], [37.448828, -122.223481])\n\
5: ([37.445064, -122.087933], [37.694296, -122.023346])\n\
6: ([37.730456, -122.230137], [37.626026, -122.230225])\n\
7: ([37.534572, -122.267887], [37.423667, -122.216782])\n\
8: ([37.692908, -122.355374], [37.620972, -122.338940])\n\
9: ([37.732106, -122.165779], [37.700649, -122.083635])\n\
10: ([37.453614, -122.193160], [37.498217, -122.163962])\n\
11: ([37.643839, -122.280068], [37.776350, -122.269080])\n\
12: ([37.709196, -122.185853], [37.572855, -122.054807])\n\
13: ([37.712216, -122.162425], [37.821736, -122.209027])\n\
14: ([37.621559, -122.261420], [37.604423, -122.133352])\n\
15: ([37.440595, -122.233243], [37.693173, -122.068166])"
    var sf_coords = [];
    var markers = {};
    var lines = [];

    sf_coords_str_lines = sf_coords_str.split("\n");
    for (i = 0; i < sf_coords_str_lines.length; i++){
        var matches = sf_coords_str_lines[i].match(/(\d+)\:\s*\(\[(\-*\d+\.*\d*),\s*(\-*\d+\.*\d*)\],\s*\[(\-*\d+\.*\d*),\s*(\-*\d+\.*\d*)\]\)/);
        sf_coords.push([parseInt(matches[1]), parseFloat(matches[2]), parseFloat(matches[3]), parseFloat(matches[4]), parseFloat(matches[5])]);
    }
    for (i = 0; i < sf_coords.length; i++){
        var point_name = "" + sf_coords[i][0];
        markers[point_name + "1"] = new MarkerWithLabel({
            position: new google.maps.LatLng(sf_coords[i][1], sf_coords[i][2]),
            map: google_map,
            labelContent: point_name
        });
        markers[point_name + "2"] = new MarkerWithLabel({
            position: new google.maps.LatLng(sf_coords[i][3], sf_coords[i][4]),
            map: google_map,
            labelContent: point_name
        });
    }
    //var right_order = ["1", "5", "2", "3", "4"];
    for (i = 0; i < sf_coords.length; i++){
        var line = new google.maps.Polyline({
            path: new Array(markers[sf_coords[i][0] + "1"].getPosition(),markers[sf_coords[i][0] + "2"].getPosition()),
            strokeColor: '#ff0000',
            strokeOpacity: 1.0,
            strokeWeight: 2
        });
        line.setMap(google_map);
    }

});



    </script>
  </body>
</html>